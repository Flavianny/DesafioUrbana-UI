<div class="container">

    <div class="page-header with-buttons two">

        <div>
            <h1 class="page-title">{{editandoUsuario ? 'Edição de' : 'Novo'}} usuário</h1>
        </div>

    </div>

     <p-card>
        <form autocomplete="off" #formUsuario="ngForm" (ngSubmit)="cadastrar(formUsuario)" class="formUsuario">
            <div class="p-fluid">

                <div class="p-field">
                    <label for="nome">Nome</label>
                    <input type="text" id="nome" name="nome" pInputText [(ngModel)]="usuario.nome" minlength="3" maxlength="100" required #nome="ngModel">

                    <app-mensagem-de-erro [controle]="nome" erro="required" mensagem="Informe o nome"></app-mensagem-de-erro>
                    <app-mensagem-de-erro [controle]="nome" erro="minlength" mensagem="Mínimo de {{nome.errors?.minlength?.requiredLength}} caracteres"></app-mensagem-de-erro>

                </div>

                <div class="p-field">
                    <label for="email">E-mail</label>
                    <input type="email" id="email" name="email" pInputText [(ngModel)]="usuario.email" required email #email="ngModel" />

                    <app-mensagem-de-erro [controle]="email" erro="required" mensagem="Informe o email"></app-mensagem-de-erro>
                    <app-mensagem-de-erro [controle]="email" erro="email" mensagem="E-mail inválido"></app-mensagem-de-erro>

                </div>

                <div class="p-field" *ngIf="editandoUsuario == false">
                    <label for="senhausuario">Senha</label>
                    <p-password [feedback]="false" toggleMask=true id="senhausuario" name="senha" [(ngModel)]="usuario.senha" minlength="6" maxlength="100" required #senha="ngModel" ngModel></p-password>

                    <app-mensagem-de-erro [controle]="senha" erro="required" mensagem="Informe a senha"></app-mensagem-de-erro>
                    <app-mensagem-de-erro [controle]="senha" erro="minlength" mensagem="Mínimo de {{senha.errors?.minlength?.requiredLength}} caracteres"></app-mensagem-de-erro>

                </div>
            </div>

            <div class="botao-salvar">
                <button class="btn-cancelar" pButton label="Voltar" routerLink="/usuarios" ></button>
                <button class="btn-salvar" pButton type="submit" label="Salvar" [disabled]="!formUsuario.valid"></button>
            </div>
        </form>
    </p-card>
</div>